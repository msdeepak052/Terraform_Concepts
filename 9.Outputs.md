# ðŸŒŸ **1. What is an Output Variable?**

* **Output variables** are used to **display values** from Terraform resources after `terraform apply`.
* They are useful to:

  1. **See resource attributes** like instance IDs, IPs, ARNs.
  2. **Pass values to other Terraform configurations** (when using modules).
  3. **Share information with users or scripts**.

---

# ðŸŒŸ **2. Syntax**

```hcl
output "<name>" {
  value       = <expression>
  description = "<optional description>"
  sensitive   = true/false  # optional
}
```

* **name** â†’ The identifier for the output variable.
* **value** â†’ What you want to display (resource attribute, variable, expression).
* **description** â†’ Optional; describes what the output shows.
* **sensitive** â†’ Optional; if true, the value is hidden in CLI output (good for passwords, secrets).

---

# ðŸŒŸ **3. Example â€” Basic Output**

### Step 1: Create EC2 resource (`main.tf`)

```hcl
provider "aws" {
  region = "ap-south-1"
}

resource "aws_instance" "web" {
  ami           = "ami-0c55b159cbfafe1f0"
  instance_type = "t2.micro"
  tags = {
    Name = "web-server"
  }
}
```

### Step 2: Define output (`outputs.tf`)

```hcl
output "instance_id" {
  value       = aws_instance.web.id
  description = "The ID of the web EC2 instance"
}

output "public_ip" {
  value       = aws_instance.web.public_ip
  description = "The public IP of the EC2 instance"
}
```

---

# ðŸŒŸ **4. Run Terraform**

```bash
terraform init
terraform apply
```

After apply, Terraform shows:

```
Outputs:

instance_id = i-0abcd1234efgh5678
public_ip   = 3.110.92.8
```

âœ… Now you can **see resource details** without logging into AWS.

---

# ðŸŒŸ **5. Sensitive Output Example**

```hcl
output "db_password" {
  value     = var.db_password
  sensitive = true
}
```

Terraform will **not show this value** in CLI output â€” good for secrets.

---

# ðŸŒŸ **6. Using Output from Modules**

If you have a module:

```hcl
module "web_server" {
  source        = "./modules/ec2"
  instance_type = "t2.micro"
}

output "web_instance_id" {
  value = module.web_server.instance_id
}
```

* You can now **access the output of a module** in your main configuration.

---

# ðŸŒŸ **7. Real-Life Example**

Imagine you create a **VPC and EC2 instances**, and you want to output:

* VPC ID
* Subnet IDs
* EC2 public IPs
* Security group ID

```hcl
output "vpc_id" {
  value       = aws_vpc.main.id
  description = "ID of the main VPC"
}

output "subnet_ids" {
  value       = aws_subnet.public[*].id
  description = "IDs of public subnets"
}

output "ec2_public_ips" {
  value       = aws_instance.web[*].public_ip
  description = "Public IPs of web servers"
}

output "sg_id" {
  value       = aws_security_group.web.id
}
```

âœ… After `terraform apply`, you instantly get all the info needed for **deployment or documentation**.

---
