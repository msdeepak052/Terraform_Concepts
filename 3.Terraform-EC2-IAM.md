# EC2 - Terraform - IAM

## üß≠ Step-by-Step: Create EC2 + Attach IAM Role (Administrator Access)

### **Step 1: Sign in to AWS Console**

* Go to: [https://console.aws.amazon.com](https://console.aws.amazon.com)
* Log in using your AWS account credentials.

---

### **Step 2: Create an IAM Role**

This role will allow your EC2 instance to interact with AWS services with **AdministratorAccess**.

1. **Go to IAM Service**

   * From the search bar ‚Üí type **IAM** ‚Üí open it.

2. **Create Role**

   * Click **Roles** ‚Üí **Create role**.
   * Under **Trusted entity type**, select **AWS Service**.
   * Choose **Use case** ‚Üí **EC2** ‚Üí click **Next**.

3. **Attach Permissions**

   * In the search bar, type **AdministratorAccess**.
   * Check the box next to **AdministratorAccess** policy.
   * Click **Next**.

4. **Add Tags (optional)**

   * Example: Key = `Name`, Value = `Deepak-Admin-Role`.

5. **Review and Create**

   * Role name: `EC2-Admin-Role`
   * Click **Create role**.

‚úÖ **Role Created:** `EC2-Admin-Role` (with AdministratorAccess)

---

### **Step 3: Create a Key Pair (for SSH Access)**

1. Open **EC2 service** ‚Üí from left sidebar select **Key Pairs**.
2. Click **Create key pair**.

   * Name: `deepak-key`
   * Type: RSA
   * File format: `.pem` (for Linux/Mac) or `.ppk` (for Windows PuTTY)
3. Click **Create key pair** ‚Üí it will automatically download the key file.

> ‚ö†Ô∏è Keep this file safe ‚Äî it‚Äôs required to SSH into your EC2.

---

### **Step 4: Launch an EC2 Instance**

1. Open **EC2 ‚Üí Instances ‚Üí Launch instances**.
2. **Name:** `terraform-practice-ec2`
3. **Application and OS Images (AMI):**

   * Choose: **Amazon Linux 2** or **Amazon Linux 2023**
4. **Instance type:**

   * Choose `t2.micro` (Free Tier) or `t2.medium` (for Terraform setup)
5. **Key pair (login):**

   * Choose `deepak-key` (the one you created).

---

### **Step 5: Configure Network Settings**

1. **VPC:** Use default VPC.
2. **Subnet:** Choose any **public subnet**.
3. **Auto-assign public IP:** Enable (important for SSH).
4. **Firewall (Security group):**

   * Create new security group.
   * Add inbound rules:

     * **SSH (22)** ‚Äì Source: My IP
     * **HTTP (80)** ‚Äì Source: Anywhere (optional)
     * **HTTPS (443)** ‚Äì Source: Anywhere (optional)

---

### **Step 6: Attach the IAM Role**

1. In the same EC2 creation screen:

   * Scroll down to **Advanced details**.
   * Under **IAM instance profile**, select the role ‚Üí `EC2-Admin-Role`.

---

### **Step 7: Launch Instance**

* Review and click **Launch instance**.
* Wait until status = **Running**.

---

### **Step 8: Verify IAM Role Attachment**

1. Select the instance ‚Üí scroll to **Security tab**.
2. Under **IAM role**, ensure you see `EC2-Admin-Role`.
3. To test IAM permissions:

   * Connect to your EC2 via SSH:

     ```bash
     ssh -i deepak-key.pem ec2-user@<public-ip>
     ```
   * Run:

     ```bash
     aws sts get-caller-identity
     ```
   * Output should show an IAM role ARN like:

     ```
     arn:aws:sts::339712902352:assumed-role/EC2-Admin-Role/i-0abcd12345
     ```

‚úÖ That confirms the instance is using the Administrator role.

---

Would you like me to add **Terraform installation steps** next (so you can directly start practicing Terraform commands inside this EC2)?

