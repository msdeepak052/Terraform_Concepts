# üåç **Terraform CLI Installation & AWS Configuration**

---

## üß© **1Ô∏è‚É£ Installation on Linux**

### **Step 1: Download and Install Terraform**

```bash
# Update your system
sudo apt update -y

# Install dependencies
sudo apt install wget unzip -y

# Download latest Terraform (replace version if needed)
wget https://releases.hashicorp.com/terraform/1.9.5/terraform_1.9.5_linux_amd64.zip

# Unzip and move binary
unzip terraform_1.9.5_linux_amd64.zip
sudo mv terraform /usr/local/bin/

# Verify installation
terraform -version
```

---

## ü™ü **2Ô∏è‚É£ Installation on Windows**

### **Step 1: Using Chocolatey (Recommended)**

```powershell
choco install terraform -y
```

### **Step 2: Manual Install**

1. Go to [Terraform Downloads](https://developer.hashicorp.com/terraform/downloads)
2. Download Windows **AMD64** ZIP.
3. Extract it and move the `terraform.exe` file to a folder like:
   `C:\Program Files\Terraform`
4. Add that folder to your **System PATH**:

   * Control Panel ‚Üí System ‚Üí Advanced system settings ‚Üí Environment Variables ‚Üí Edit PATH ‚Üí Add the folder.
5. Open **PowerShell** and run:

   ```powershell
   terraform -version
   ```

---

## üçé **3Ô∏è‚É£ Installation on macOS**

### **Option 1: Using Homebrew (Recommended)**

```bash
brew tap hashicorp/tap
brew install hashicorp/tap/terraform
```

### **Option 2: Manual Install**

```bash
wget https://releases.hashicorp.com/terraform/1.9.5/terraform_1.9.5_darwin_amd64.zip
unzip terraform_1.9.5_darwin_amd64.zip
sudo mv terraform /usr/local/bin/
terraform -version
```

---

# ‚öôÔ∏è **4Ô∏è‚É£ Configuring Terraform with AWS**

Terraform uses the **AWS provider** to communicate with AWS APIs.
You can authenticate in multiple ways.

---

## ü™™ **Method 1: Using AWS CLI Credentials (Standard)**

### **Step 1: Install and Configure AWS CLI**

```bash
# Linux/Mac
sudo apt install awscli -y

# Windows (PowerShell)
choco install awscli -y
```

### **Step 2: Configure Credentials**

```bash
aws configure
```

Then enter:

```
AWS Access Key ID [None]: <YOUR_ACCESS_KEY>
AWS Secret Access Key [None]: <YOUR_SECRET_KEY>
Default region name [None]: ap-south-1
Default output format [None]: json
```

These credentials are stored in:

```
~/.aws/credentials
~/.aws/config
```

### **Step 3: Verify**

```bash
aws sts get-caller-identity
```

Terraform automatically picks up credentials from the AWS CLI profile.

---

## üîê **Method 2: Without AWS Credentials (Environment Variables)**

You can avoid storing credentials by exporting them at runtime:

### **Linux / macOS**

```bash
export AWS_ACCESS_KEY_ID="<your-access-key>"
export AWS_SECRET_ACCESS_KEY="<your-secret-key>"
export AWS_DEFAULT_REGION="ap-south-1"
```

### **Windows (PowerShell)**

```powershell
setx AWS_ACCESS_KEY_ID "<your-access-key>"
setx AWS_SECRET_ACCESS_KEY "<your-secret-key>"
setx AWS_DEFAULT_REGION "ap-south-1"
```

Terraform will automatically read these environment variables.

---

## üß≠ **Method 3: IAM Role (No Keys Needed ‚Äî EC2 or CloudShell)**

When Terraform runs **on an EC2 instance**, **ECS task**, or **AWS CloudShell**,
and that instance has an **IAM Role** with permissions ‚Äî
Terraform **automatically uses those temporary credentials**.

‚úÖ **Example:**
If you‚Äôre on an EC2 with an attached IAM Role that has this policy:

```json
{
  "Effect": "Allow",
  "Action": "ec2:*",
  "Resource": "*"
}
```

Then Terraform can directly deploy infrastructure ‚Äî no access key or secret key needed.

---

## ‚öôÔ∏è **Provider Block Example**

Below is how you define the AWS provider in your `.tf` file:

```hcl
provider "aws" {
  region = "ap-south-1"
  # profile = "default"  # Optional, if using a named AWS CLI profile
}
```

---

## üß™ **Verification**

Run the following to confirm Terraform can talk to AWS:

```bash
terraform init
terraform plan
```

If successful, you‚Äôll see Terraform fetching AWS resources.

---

## üß† **Summary Table**

| Method                  | Description                 | Secure                   | Where Used           |
| ----------------------- | --------------------------- | ------------------------ | -------------------- |
| `aws configure`         | Uses local credentials file | üîê Medium                | Developer machines   |
| `Environment variables` | Temporary credentials       | ‚úÖ Secure (if not stored) | CI/CD pipelines      |
| `IAM Role`              | No static credentials       | üîí Most secure           | EC2, EKS, CloudShell |

---
